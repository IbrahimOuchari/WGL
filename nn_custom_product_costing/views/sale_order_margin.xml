<odoo>

    <record id="sale_devis_marge_total" model="ir.ui.view">
        <field name="name">sale.devis.marge.total</field>
        <field name="model">sale.devis</field>
        <field name="inherit_id" ref="BMG_sale_starter.sale_devis_form_view"/>
        <field name="arch" type="xml">

            <!--            <xpath expr="//div[contains(@class, 'o_row')]" position="after">-->
            <!--                <label for="margin_production" string="Marge Totale"/>-->
            <!--                <div class="o_row">-->
            <!--                    <field name="margin_production"/>-->
            <!--                </div>-->

            <!--            </xpath>-->
            <xpath expr="//field[@name='amount_total']" position="after">

                <div class=" oe_inline o_td_label">
                    <label for="margin_production"/>
                </div>
                <strong>
                    <h3>
                           <field name="margin_production" nolabel="1"  widget="monetary"
                       options="{'currency_field': 'currency_id'}"/>
                    </h3>

                </strong>

            </xpath>
            <xpath expr="//field[@name='devis_line']/tree/field[@name='price_unit']"
                   position="after">
                <field name="margin_product" sum="Marge Totale"/>
            </xpath>

        </field>
    </record>
</odoo>